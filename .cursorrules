# Partyhelp App - Cursor Rules

## Project Overview
Partyhelp Pay-Per-Lead system: Laravel 12 + Filament 5 backend for a venue-lead marketplace.
WordPress/Elementor handles the public lead-generation form; Laravel handles everything else.

## Architecture
- **Admin panel:** Filament at `/admin` (light theme, desktop-primary)
- **Venue portal:** Filament at `/venue` (light theme, mobile-responsive)
- **Customer pages:** Blade + Livewire (dark theme, mobile-first)
- **No React.** Use Filament, Livewire, and Alpine.js only.

## Coding Standards
- **Max 300 lines** per PHP file. Refactor proactively if approaching this limit.
- **Max 500 lines** only where a single file is architecturally justified.
- Blade files use `<x-layout>` component tags, NOT `@include` statements.
- Follow Laravel conventions: PSR-12, type hints, return types.
- All outbound email via **SendGrid API** (DO blocks SMTP ports).

## Semantic Styling (PRD 3.1)
Use **named semantic classes** for common elements so styling can be controlled from one place. Prefer semantic classes over inline utility-only styling.
- **CTAs:** `.primary-cta-button` (add `.secondary-cta-button` etc. as needed)
- **Logos:** `.brand-logo` (light backgrounds), `.brand-logo-inverse` (dark backgrounds)
- **Cards:** `.content-card`, `.content-card-centered`, `.detail-card`, `.detail-card-highlight`, `.detail-card-panel`
- **Typography:** `.page-title`, `.page-title-centered`, `.page-title-lg`, `.page-title-success`, `.page-title-error`, `.card-label`, `.card-value`, `.muted-text`, `.muted-text-sm`
- **Nav:** `.nav-link-ghost`, `.nav-link-outline`
- Define new semantic classes in `resources/css/app.css` @layer components when adding new common patterns.

## File Structure
- `app/Filament/Resources/` — Admin panel resources
- `app/Filament/Venue/Resources/` — Venue portal resources
- `app/Filament/Widgets/` — Admin dashboard widgets
- `app/Filament/Venue/Widgets/` — Venue dashboard widgets
- `app/Services/` — Business logic services
- `app/Jobs/` — Queued jobs
- `resources/views/components/layouts/` — Blade layout components
- `resources/views/customer/` — Customer-facing dark theme pages
- `config/partyhelp.php` — App configuration

## Development Environment
- All work happens on **Laravel Forge via Remote SSH** to Digital Ocean.
- Never set up local Mac development unless explicitly instructed.
- **Commit when a task is complete:** When you have finished ALL changes arising from one user prompt, commit and push to the remote **before** returning the results or summary to the user. Do not leave completed work only in the working tree. One commit per completed task is fine; do not make many commits in the middle of a single task. If the user has to ask you to commit, the rule was not followed.

## Key Documents
- PRD: `docs/Partyhelp PRD.md`
- Seeding: `docs/SEEDING.md`
- This file: `.cursorrules`

## Testing
- Build unit tests progressively as features are developed.
- Run tests after major modifications.

## Database
- Using Laravel migrations with `ph_` conceptual prefix (actual tables without prefix per Laravel convention).
- Will switch from SQLite to MySQL when Forge database is configured.
